<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Transforming data using textttVCA · AVI.jl</title><meta name="title" content="Transforming data using textttVCA · AVI.jl"/><meta property="og:title" content="Transforming data using textttVCA · AVI.jl"/><meta property="twitter:title" content="Transforming data using textttVCA · AVI.jl"/><meta name="description" content="Documentation for AVI.jl."/><meta property="og:description" content="Documentation for AVI.jl."/><meta property="twitter:description" content="Documentation for AVI.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AVI.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../basics/">How does it work?</a></li><li><span class="tocitem">Obtaining a transformation</span><ul><li><a class="tocitem" href="../how_to_run/">Obtaining a transformation</a></li><li><a class="tocitem" href="../docs_oavi_transformation/">Transforming data using <span>$\texttt{OAVI}$</span></a></li><li><a class="tocitem" href="../docs_custom_oracle/">Custom Oracles</a></li><li class="is-active"><a class="tocitem" href>Transforming data using <span>$\texttt{VCA}$</span></a><ul class="internal"><li><a class="tocitem" href="#Choosing-the-right-transformation"><span>Choosing the right transformation</span></a></li><li><a class="tocitem" href="#Applying-the-transformation"><span>Applying the transformation</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../print_polynomials/">Printing polynomials</a></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../reference/0_reference/">API Reference</a></li><li><a class="tocitem" href="../reference/1_algorithms/">Algorithms</a></li><li><a class="tocitem" href="../reference/2_oracles/">Oracles</a></li><li><a class="tocitem" href="../reference/3_border/">Border construction</a></li><li><a class="tocitem" href="../reference/4_terms_and_polys/">Terms and polynomials</a></li><li><a class="tocitem" href="../reference/5_auxiliary_funcs/">Auxiliary functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Obtaining a transformation</a></li><li class="is-active"><a href>Transforming data using <span>$\texttt{VCA}$</span></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Transforming data using <span>$\texttt{VCA}$</span></a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ZIB-IOL/AVI.jl.git" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ZIB-IOL/AVI.jl/blob/main/docs/src/docs_vca_transformation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Transforming-data-using-\\texttt{VCA}"><a class="docs-heading-anchor" href="#Transforming-data-using-\\texttt{VCA}">Transforming data using <span>$\texttt{VCA}$</span></a><a id="Transforming-data-using-\\texttt{VCA}-1"></a><a class="docs-heading-anchor-permalink" href="#Transforming-data-using-\\texttt{VCA}" title="Permalink"></a></h1><p>If you wish to use <span>$\texttt{VCA}$</span> instead of <span>$\texttt{OAVI}$</span> to obtain your transformation, then here we will briefly explain how you can go about it.</p><h2 id="Choosing-the-right-transformation"><a class="docs-heading-anchor" href="#Choosing-the-right-transformation">Choosing the right transformation</a><a id="Choosing-the-right-transformation-1"></a><a class="docs-heading-anchor-permalink" href="#Choosing-the-right-transformation" title="Permalink"></a></h2><p>Unlike <span>$\texttt{OAVI}$</span>, <span>$\texttt{VCA}$</span> does not enjoy a known relation between the vanishing parameter <span>$\psi$</span> and the degree of constructed polynomials. This makes a wider range of <span>$\psi$</span>&#39;s to compare necessary, even if one has some knowledge about which polynomial degrees may prove better. Luckily, the way to go about finding the best transformation is very similar to the one presented for <span>$\texttt{OAVI}$</span>.</p><p>Once again, let&#39;s begin by creating or reading in our data set.</p><pre><code class="language-julia hljs">using AVI
using DataFrames
using CSV
using Random

# create data
X = rand(100, 3)

# put it into a DataFrame
df = DataFrame(X, :auto)

# write it to &#39;example.csv&#39; in &#39;examples&#39; folder
CSV.write(&quot;examples/example_vca.csv&quot;, df);

# read the data
read_df = CSV.read(&quot;examples/example_vca.csv&quot;, DataFrame, types=Float64)

# convert DataFrame to Matrix
data = Matrix(read_df)</code></pre><p>Just as with <span>$\texttt{OAVI}$</span>, <code>fit_vca</code> expects the data matrix to be of type <code>Float64</code>.</p><p>As with the previous example, the next step is to choose some range of <span>$\psi$</span>&#39;s you wish to test. We recommend to choose a wider range, for example <code>psis=[0.1, 0.05, 0.01, 0.005, 0.001, 0.0005, 0.0001]</code>. Now, just as with <span>$\texttt{OAVI}$</span>, we wish to test and compare the transformations for different values of <span>$\psi$</span>.</p><pre><code class="language-julia hljs"># split train and test data
X_train, X_test = data[1:90, :], data[91:end, :]

# define psis
psis=[0.1, 0.05, 0.01, 0.005, 0.001, 0.0005, 0.0001]

# init best transform and best sets
best_transform_vca, best_sets_vca = nothing, nothing

# init error
error = Inf64

# loop psis
for psi in psis
    # transformation with current psi
    X_train_transformed_vca, sets_train_vca = fit_vca(X_train; psi=psi)

    &quot;&quot;&quot;
    if X_train_transformed_vca !== nothing
        new_error = classifier(X_train_transformed_vca, class_labels)
        if new_error &lt; error
            error = new_error
            best_transform_vca, best_sets_vca = X_train_transformed_vca, sets_train_vca
        end
    end
    &quot;&quot;&quot;
end</code></pre><p>Use your favorite classification method to compare the transformations and choose the one that fits your data and problem best.</p><h2 id="Applying-the-transformation"><a class="docs-heading-anchor" href="#Applying-the-transformation">Applying the transformation</a><a id="Applying-the-transformation-1"></a><a class="docs-heading-anchor-permalink" href="#Applying-the-transformation" title="Permalink"></a></h2><p>After having found the transformation best suited to your data, you can apply this transformation to the data you wish to classify. Passing <code>best_sets_vca</code> and <code>X_test</code> to <code>apply_V_transformation</code> applies the <span>$\texttt{VCA}$</span> transformation stored in <code>best_sets_vca</code> to <code>X_test</code>. We compute some <code>best_transform_vca</code> and <code>best_sets_vca</code> as to not get an error.</p><pre><code class="language-julia hljs"># best transform and best sets for VCA
best_transform_vca, best_sets_vca = fit_vca(X_train; psi=0.001)

# apply VCA transformation to test set
X_test_transformed_vca, sets_test_vca = apply_V_transformation(best_sets_vca, X_test)</code></pre><p>Once again, the data to which the transformation is applied should have the same second dimension as <code>X_train</code>, which means <code>size(X_train, 2) == size(X_test, 2)</code> should hold.</p><p>We perform the same sanity check as for <span>$\texttt{OAVI}$</span> to see if the dimension of the transformation matches.</p><pre><code class="language-julia hljs"># get all polynomials into single matrix
polys = AVI.V_to_matrix(best_sets_vca)

println(&quot;Number of vanishing polynomials: &quot;, size(polys, 2))
size(best_transform_vca, 2) == size(X_test_transformed_vca, 2) == size(polys, 2)</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../docs_custom_oracle/">« Custom Oracles</a><a class="docs-footer-nextpage" href="../print_polynomials/">Printing polynomials »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 2 February 2024 18:36">Friday 2 February 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
